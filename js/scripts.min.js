function initDarkMode(){}

var darkMapStyle=[],lightMapStyle=[];

function startCountdown(){
    var i=new Date("May 30, 2025 10:00:00").getTime(),
    s=setInterval(function(){
        var e=(new Date).getTime(),
        t=i-e,
        a=Math.floor(t/864e5),
        n=Math.floor(t%864e5/36e5),
        o=Math.floor(t%36e5/6e4),
        r=Math.floor(t%6e4/1e3);
        document.getElementById("days").innerHTML=a,
        document.getElementById("hours").innerHTML=n,
        document.getElementById("minutes").innerHTML=o,
        document.getElementById("seconds").innerHTML=r,
        t<0&&(clearInterval(s),
        document.getElementById("countdown-timer").innerHTML="Happening Now!")
    },1e3)
}

function initMap(){
    var e={lat:18.9794004083823,lng:-98.23880958994478},
    t=new google.maps.Map(document.getElementById("map-canvas"),{
        zoom:15,
        center:e,
        scrollwheel:!1
    });
    new google.maps.Marker({
        position:e,
        map:t,
        title:"Salon Jardín Ex Hacienda San Bartolo"
    })
}

$(document).ready(function(){
    $(".wp1").waypoint(function(){$(".wp1").addClass("animated fadeInLeft")},{offset:"75%"});
    $(".wp2").waypoint(function(){$(".wp2").addClass("animated fadeInRight")},{offset:"75%"});
    $(".wp3").waypoint(function(){$(".wp3").addClass("animated fadeInLeft")},{offset:"75%"});
    $(".wp4").waypoint(function(){$(".wp4").addClass("animated fadeInRight")},{offset:"75%"});
    $(".wp5").waypoint(function(){$(".wp5").addClass("animated fadeInLeft")},{offset:"75%"});
    $(".wp6").waypoint(function(){$(".wp6").addClass("animated fadeInRight")},{offset:"75%"});
    $(".wp7").waypoint(function(){$(".wp7").addClass("animated fadeInUp")},{offset:"75%"});
    $(".wp8").waypoint(function(){$(".wp8").addClass("animated fadeInLeft")},{offset:"75%"});
    $(".wp9").waypoint(function(){$(".wp9").addClass("animated fadeInRight")},{offset:"75%"});
    $(".flexslider").flexslider({animation:"slide"});
    $(".single_image").fancybox({padding:4});
    $(".fancybox").fancybox({padding:4,width:1e3,height:800});
    $('[data-toggle="tooltip"]').tooltip();
    $("#rsvp-form").on("submit",function(e){
        e.preventDefault();
        var t=$(this).serialize();
        $("#alert-wrapper").html(alert_markup("info","<strong>¡Un momento!</strong> Estamos guardando sus datos."));
        
        $.post("https://script.google.com/macros/s/AKfycbx1C3wpHe7V0BNMf7g5PClqnK-qdsc9fmZhGf3naBKgLqk9acl9GO5xSOCLvqkb8NLkcw/exec",t)
            .done(function(e){
                console.log(e);
                "error"===e.result?$("#alert-wrapper").html(alert_markup("danger",e.message)):($("#alert-wrapper").html(""),$("#rsvp-modal").modal("show"))
            })
            .fail(function(e){
                console.log(e);
                $("#alert-wrapper").html(alert_markup("danger","<strong>¡Lo siento!</strong> Hubo un problema con el servidor. "))
            });
    });
    
    // Inicialización del video
    $(".player").YTPlayer();

    // Agregar o modificar el código del toggle del menú
    $('.nav-toggle').on('click', function() {
        $(this).toggleClass('active');
        $('.header-nav').toggleClass('open');
        event.preventDefault();
    });
    
    // Agregar este código para el smooth scroll
    $('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(event) {
        if (
            location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') 
            && 
            location.hostname == this.hostname
        ) {
            event.preventDefault();
            var target = $(this.hash);
            target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
            
            if (target.length) {
                $('html, body').animate({
                    scrollTop: target.offset().top - 70 // El -70 es para compensar el header fijo
                }, 1000);
                return false;
            }
        }
    });
});

window.onload=function(){startCountdown()};

function alert_markup(e,t){
    return'<div class="alert alert-'+e+'" role="alert">'+t+'<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span>&times;</span></button></div>'
}